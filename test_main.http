### üß© TEST API ‚Äî Sistema de Tienda Online
# Autor: Pablo
# Proyecto Parcial ‚Äî FastAPI + SQLModel
# Objetivo: Probar CRUD, filtros, relaciones y reglas de negocio

@baseUrl = http://127.0.0.1:8000

##########################################################
### 1Ô∏è‚É£ CREAR CATEGOR√çAS
##########################################################

POST {{baseUrl}}/categorias/
Content-Type: application/json

{
  "nombre": "Electr√≥nica",
  "descripcion": "Productos tecnol√≥gicos como celulares, laptops y accesorios"
}

###

POST {{baseUrl}}/categorias/
Content-Type: application/json

{
  "nombre": "Ropa",
  "descripcion": "Moda, prendas y accesorios"
}

###

POST {{baseUrl}}/categorias/
Content-Type: application/json

{
  "nombre": "Hogar",
  "descripcion": "Art√≠culos y electrodom√©sticos para el hogar"
}

##########################################################
### 2Ô∏è‚É£ LISTAR CATEGOR√çAS ACTIVAS
##########################################################

GET {{baseUrl}}/categorias/

# üí¨ Esperado ‚Üí 3 categor√≠as activas

##########################################################
### 3Ô∏è‚É£ OBTENER CATEGOR√çA POR ID CON SUS PRODUCTOS
##########################################################

GET {{baseUrl}}/categorias/1

# üí¨ Esperado ‚Üí categor√≠a ‚ÄúElectr√≥nica‚Äù con lista vac√≠a (a√∫n sin productos)

##########################################################
### 4Ô∏è‚É£ ACTUALIZAR UNA CATEGOR√çA
##########################################################

PUT {{baseUrl}}/categorias/2
Content-Type: application/json

{
  "nombre": "Ropa",
  "descripcion": "Ropa y accesorios para hombres, mujeres y ni√±os"
}


##########################################################
### 5Ô∏è‚É£ DESACTIVAR Y REACTIVAR CATEGOR√çA
##########################################################

PATCH {{baseUrl}}/categorias/3/desactivar
# üí¨ Esperado ‚Üí categor√≠a ‚ÄúHogar‚Äù ahora inactiva

###

PATCH {{baseUrl}}/categorias/3/reactivar
# üí¨ Esperado ‚Üí categor√≠a ‚ÄúHogar‚Äù reactivada

##########################################################
### 6Ô∏è‚É£ CREAR PRODUCTOS
##########################################################

POST {{baseUrl}}/productos/
Content-Type: application/json

{
  "nombre": "Laptop Lenovo ThinkPad",
  "descripcion": "Laptop profesional 16GB RAM, SSD 512GB",
  "precio": 3500.00,
  "stock": 10,
  "categoria_id": 1
}

###

POST {{baseUrl}}/productos/
Content-Type: application/json

{
  "nombre": "Mouse Gamer RGB",
  "descripcion": "Mouse con luces LED, 6 botones programables",
  "precio": 120.50,
  "stock": 5,
  "categoria_id": 1
}

###

POST {{baseUrl}}/productos/
Content-Type: application/json

{
  "nombre": "Camiseta Oversize",
  "descripcion": "Camiseta 100% algod√≥n, talla √∫nica",
  "precio": 39.99,
  "stock": 20,
  "categoria_id": 2
}

###

POST {{baseUrl}}/productos/
Content-Type: application/json

{
  "nombre": "Plancha Oster Pro",
  "descripcion": "Plancha de vapor moderna",
  "precio": 199.99,
  "stock": 8,
  "categoria_id": 3
}


##########################################################
### 7Ô∏è‚É£ LISTAR PRODUCTOS (todos los activos)
##########################################################

GET {{baseUrl}}/productos/

# üí¨ Esperado ‚Üí lista con 4 productos

##########################################################
### 8Ô∏è‚É£ FILTRAR PRODUCTOS POR CATEGOR√çA
##########################################################

GET {{baseUrl}}/productos/?categoria_id=1

# üí¨ Esperado ‚Üí Laptop Lenovo + Mouse Gamer

##########################################################
### 9Ô∏è‚É£ FILTRAR PRODUCTOS POR PRECIO
##########################################################

GET {{baseUrl}}/productos/?precio_min=100&precio_max=200

# üí¨ Esperado ‚Üí Plancha Oster y Mouse Gamer

##########################################################
### üîü FILTRAR PRODUCTOS POR STOCK
##########################################################

GET {{baseUrl}}/productos/?stock_min=15&stock_max=25

# üí¨ Esperado ‚Üí Camiseta Oversize
# üí¨ Si no hay productos ‚Üí mensaje ‚ÄúNo hay productos disponibles‚Äù

##########################################################
### 11Ô∏è‚É£ OBTENER PRODUCTO CON SU CATEGOR√çA
##########################################################

GET {{baseUrl}}/productos/1

# üí¨ Esperado ‚Üí Laptop Lenovo con categor√≠a ‚ÄúElectr√≥nica‚Äù

##########################################################
### 12Ô∏è‚É£ ACTUALIZAR PRODUCTO
##########################################################

PUT {{baseUrl}}/productos/1
Content-Type: application/json

{
  "nombre": "Laptop Lenovo ThinkPad",
  "descripcion": "Laptop Lenovo ThinkPad (versi√≥n 2025 actualizada)",
  "precio": 3299.99,
  "stock": 10,
  "activo": true,
  "categoria_id": 1
}

##########################################################
### 13Ô∏è‚É£ DESACTIVAR Y REACTIVAR PRODUCTO
##########################################################

PATCH {{baseUrl}}/productos/2/desactivar
# üí¨ Esperado ‚Üí Mouse Gamer inactivo

###

PATCH {{baseUrl}}/productos/2/reactivar
# üí¨ Esperado ‚Üí Mouse Gamer reactivado

##########################################################
### 14Ô∏è‚É£ RESTAR STOCK (simulaci√≥n de compra)
##########################################################

PATCH {{baseUrl}}/productos/1/comprar
Content-Type: application/json

{
  "cantidad": 3
}

##########################################################
### 15Ô∏è‚É£ ERROR ‚Äî STOCK NEGATIVO
##########################################################

PATCH {{baseUrl}}/productos/1/comprar

{
  "cantidad":100
}

##########################################################
### 16Ô∏è‚É£ ERROR ‚Äî CATEGOR√çA DUPLICADA
##########################################################

POST {{baseUrl}}/categorias/
Content-Type: application/json

{
  "nombre": "Electr√≥nica",
  "descripcion": "Intento de duplicado"
}

